INSERT INTO [User].users (name,email,password)
VALUES
  ('Cleo Stokes','cras@yahoo.edu','laoreet lectus'),
  ('Scarlett Caldwell','elit@hotmail.org','sagittis felis.'),
  ('Ryder Carrillo','ultrices.mauris.ipsum@icloud.edu','felis.'),
  ('Colton Sharpe','sit.amet.nulla@aol.com','Cras'),
  ('Prescott O''Neill','convallis@icloud.ca','dui nec urna'),
  ('Orson Cervantes','fusce.dolor.quam@icloud.org','lacinia mattis. Integer'),
  ('Ahmed Petty','tincidunt.congue@icloud.couk','elit erat'),
  ('Gemma Fleming','eu@outlook.net','risus.'),
  ('Colt Mccormick','elit.aliquam@outlook.com','iaculis odio.'),
  ('Adrian Glenn','class@icloud.couk','mi felis,'),
  ('Pandora Mcfadden','ante.maecenas@google.org','ipsum'),
  ('Lucy Wright','proin@protonmail.edu','dui lectus'),
  ('Uta Hayes','semper.cursus.integer@protonmail.edu','Mauris ut'),
  ('Brenna Weiss','donec.egestas@yahoo.ca','et'),
  ('Madeline Mcmillan','dis.parturient@hotmail.couk','id sapien. Cras'),
  ('Xander Tanner','nulla.integer.vulputate@icloud.edu','sagittis augue, eu'),
  ('Mari Buck','eu@protonmail.net','interdum'),
  ('Lawrence Shepard','cursus@icloud.org','Suspendisse dui.'),
  ('Silas Crosby','sed.consequat.auctor@google.com','vulputate, nisi'),
  ('Cathleen Le','mus.proin.vel@aol.edu','Nulla aliquet.'),
  ('Pamela Gilliam','sociis.natoque@hotmail.com','Nam interdum'),
  ('Jonas Mercer','enim.sed@protonmail.ca','Quisque ac'),
  ('Kyra Cook','egestas.duis@aol.com','molestie'),
  ('Patricia Brock','rhoncus.donec@protonmail.couk','in magna. Phasellus'),
  ('Edan Benjamin','posuere.enim@yahoo.com','Duis dignissim'),
  ('Anastasia Mcguire','risus.odio@icloud.couk','lobortis quis, pede.'),
  ('Wynter Pollard','semper@hotmail.edu','faucibus. Morbi'),
  ('Sophia Guy','nunc.quis@outlook.couk','Mauris vel'),
  ('Uriah Cunningham','hendrerit.a.arcu@yahoo.edu','suscipit, est'),
  ('Preston Carter','dolor.tempus.non@protonmail.couk','ornare lectus'),
  ('Delilah Cervantes','venenatis.vel.faucibus@icloud.net','lacus. Ut'),
  ('Montana Butler','magnis.dis@google.couk','ut'),
  ('Marsden Merritt','vestibulum.nec.euismod@hotmail.couk','odio'),
  ('Francis Witt','posuere.cubilia.curae@protonmail.com','a, auctor'),
  ('Ryan Cook','auctor.vitae@aol.edu','quam,'),
  ('Sean Hull','maecenas.mi.felis@yahoo.couk','mauris'),
  ('Aristotle Bond','sed.leo.cras@icloud.org','magna'),
  ('Uriah Wise','fringilla.cursus@icloud.edu','id, mollis nec,'),
  ('August Cooper','sodales@icloud.ca','Suspendisse sagittis.'),
  ('John Morgan','aliquet.vel.vulputate@hotmail.net','ornare placerat,'),
  ('Sara Hawkins','egestas@aol.edu','ridiculus'),
  ('Zachery Potter','nascetur@aol.org','bibendum. Donec'),
  ('Herrod Baker','eleifend@protonmail.org','eu, placerat'),
  ('Brendan Mendoza','vulputate.risus.a@outlook.com','facilisis. Suspendisse commodo'),
  ('Mariam Good','faucibus.id@hotmail.com','id, ante. Nunc'),
  ('Wanda Rollins','ultrices.posuere@aol.couk','tempor'),
  ('Cameron Bowers','semper.et@icloud.org','Donec non'),
  ('Joy Harding','natoque.penatibus.et@outlook.net','arcu'),
  ('Uriel Hernandez','fermentum.arcu@hotmail.edu','luctus vulputate, nisi'),
  ('Buckminster Hodges','tincidunt@outlook.net','molestie');
INSERT INTO [User].users (name,email,password)
VALUES
  ('Chiquita Ellis','vestibulum.massa.rutrum@icloud.com','pellentesque'),
  ('Chava Henson','vel@icloud.edu','erat vitae'),
  ('Driscoll Spencer','ridiculus.mus@icloud.couk','litora torquent'),
  ('Ciara Tyson','enim.commodo@hotmail.net','netus et'),
  ('Sybil Fitzpatrick','in.aliquet@protonmail.ca','vel pede'),
  ('Zeph Griffith','faucibus.lectus.a@google.edu','sed'),
  ('Elijah Richard','cum@yahoo.net','eu'),
  ('Claire Lowe','fermentum.arcu.vestibulum@outlook.com','auctor'),
  ('Tanner Smith','ligula@protonmail.couk','vitae'),
  ('Priscilla Pitts','non.arcu@icloud.com','nec'),
  ('Cherokee Bender','donec.egestas.aliquam@icloud.edu','arcu.'),
  ('Megan Clayton','vehicula.pellentesque@icloud.edu','Donec'),
  ('Noble Massey','quis.diam.luctus@aol.ca','mauris, aliquam'),
  ('Valentine Moore','eu@outlook.edu','Donec vitae erat'),
  ('Madeline Powers','vehicula.aliquet@outlook.org','Phasellus dolor elit,'),
  ('Clinton Cross','a.felis.ullamcorper@google.ca','vitae, sodales'),
  ('Sylvia Maxwell','vestibulum.nec@google.net','nascetur'),
  ('Griffit Erkendogan','tcbestepe@proyum.tr','dunyalideriyim_1453'),
  ('Ignacia Gutierrez','orci@hotmail.org','porttitor'),
  ('Roanna Bell','purus.nullam@outlook.org','Proin sed'),
  ('Baker Harrington','auctor@outlook.com','eu dui.'),
  ('Keane Taylor','non.enim.mauris@icloud.net','turpis vitae'),
  ('Candace Harrell','eget@google.org','malesuada vel,'),
  ('Merrill Dejesus','non.lorem.vitae@icloud.com','libero. Proin'),
  ('Justina Swanson','penatibus.et@google.org','feugiat. Sed'),
  ('David Mcguire','tempus@icloud.couk','ante blandit'),
  ('Nathaniel Whitehead','molestie@outlook.edu','nec orci.'),
  ('Ori Beasley','dolor.dapibus@google.couk','odio'),
  ('Raja Hess','in.tempus.eu@icloud.com','sapien, gravida'),
  ('Benjamin Brady','commodo@protonmail.org','lacinia vitae,'),
  ('Dawn Shelton','nascetur@icloud.org','ultrices'),
  ('Xenos Rocha','et@hotmail.net','Mauris'),
  ('Christen Rodgers','velit.dui.semper@aol.net','convallis convallis dolor.'),
  ('Vanna Santiago','eget.nisi@aol.com','sapien. Aenean massa.'),
  ('Clinton Harrington','imperdiet@google.ca','condimentum.'),
  ('Lucy Moses','egestas.duis.ac@icloud.org','Ut tincidunt orci'),
  ('Gregory Peterson','in.sodales@outlook.couk','enim diam vel'),
  ('Lillian Davidson','sem@outlook.com','non, luctus sit'),
  ('Ori Montgomery','nam.ligula.elit@icloud.com','volutpat. Nulla'),
  ('Lars Pate','vivamus@yahoo.couk','facilisi. Sed neque.'),
  ('Burke Fitzpatrick','eget.ipsum@hotmail.ca','massa non'),
  ('Reagan Perry','ligula.aenean@outlook.net','eu'),
  ('Breanna Lawrence','montes.nascetur@aol.ca','nibh enim,'),
  ('Samantha Colon','magna.phasellus@protonmail.net','velit. Aliquam'),
  ('Ignatius Giles','lobortis@yahoo.org','arcu et'),
  ('Maite Carson','dignissim.tempor.arcu@yahoo.edu','dolor. Fusce'),
  ('Zane Kent','sed.sem.egestas@hotmail.couk','vel arcu'),
  ('Cody Benjamin','sit@protonmail.couk','ac'),
  ('Irma Moss','gravida.nunc@protonmail.org','Sed eget'),
  ('Ethan Conley','eu@google.com','malesuada malesuada. Integer'),
  ('Hayes Bishop','nec.cursus.a@google.net','aliquet lobortis, nisi');


  use db_akakce
                          
	--DBCC CHECKIDENT ('[User].user_reviews', RESEED, 0);
INSERT INTO [User].[user_reviews] (product_id, user_id, review_text, rating, review_date)
SELECT 
    p.product_id, 
    u.user_id,
    CONCAT('Bu ürün hakkýnda kullanýcý ', u.user_id, ' tarafýndan yapýlan inceleme.'), 
    CASE 
        WHEN pop.popularity_value >= 80 THEN ABS(CHECKSUM(NEWID())) % 3 + 3 
        WHEN pop.popularity_value >= 50 THEN ABS(CHECKSUM(NEWID())) % 3 + 2 
        ELSE ABS(CHECKSUM(NEWID())) % 2 + 1 
    END AS rating,
    DATEADD(DAY, -ABS(CHECKSUM(NEWID())) % 365, GETDATE()) AS review_date 
FROM 
    Products.product p
JOIN Products.product_popularity pop ON p.product_id = pop.product_id
CROSS APPLY (
    SELECT TOP (ABS(CHECKSUM(NEWID())) % 10 + 1) user_id 
    FROM [User].[users] u
    WHERE NOT EXISTS ( 
        SELECT 1 
        FROM [User].[user_reviews] ur 
        WHERE ur.product_id = p.product_id 
        AND ur.user_id = u.user_id
    )
    ORDER BY NEWID() 
) u
ORDER BY 
    p.product_id;


	select * from [User].[user_reviews]
	--delete from [User].[user_reviews]

	--insert into [User].user_reviews (user_id,product_id,review_text,rating,review_date) values
	--(102, 1, 'aaa',3,GETDATE())
	select * from [User].users
	select * from [Products].product_ratings


	-- update user pw & email

	UPDATE [User].[users] SET [password] = @hashedPassword WHERE [email] = @email

	UPDATE [User].[users]  SET email = @newEmail WHERE email = @oldEmai