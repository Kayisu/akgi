{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaan\\\\Desktop\\\\code\\\\vscode\\\\newakakce\\\\frontend\\\\src\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = ({\n  setIsLoggedIn,\n  setUserId\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const pastelColors = ['#DCD6F7', '#FCE38A', '#EAFFD0', '#95E1D3', '#D3E0DC', '#E9EDC9'];\n    const randomColor = pastelColors[Math.floor(Math.random() * pastelColors.length)];\n    document.body.style.backgroundColor = randomColor;\n    return () => {\n      document.body.style.backgroundColor = '';\n    };\n  }, []);\n  const handleLogin = async () => {\n    if (!email.trim() || !password.trim()) {\n      setError('Şifre ve kullanıcı adı boş bırakılamaz.');\n      return;\n    }\n    try {\n      const response = await fetch('http://localhost:5000/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setError('');\n        setIsLoggedIn(true);\n        localStorage.setItem('token', data.token); // Store JWT token\n        localStorage.setItem('user', JSON.stringify({\n          email,\n          user_id: data.user_id\n        })); // Store user info\n        setUserId(data.user_id); // Set user ID\n        navigate('/');\n      } else {\n        setError(data.message || 'Kullanıcı adı veya şifre yanlış.');\n      }\n    } catch (err) {\n      console.error('Error during login:', err); // Hata hakkında daha fazla bilgi almak için\n      setError('Sunucuyla bağlantı kurulamadı.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#fff',\n        borderRadius: '20px',\n        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n        padding: '30px',\n        width: '350px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '5px',\n          marginRight: '300px',\n          fontSize: '14px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#6c63ff',\n            cursor: 'pointer'\n          },\n          onClick: () => navigate('/'),\n          children: \"\\u2B9C Geri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '20px',\n          color: '#4a4a4a'\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        style: {\n          width: '100%',\n          padding: '10px',\n          marginBottom: '15px',\n          borderRadius: '5px',\n          border: '1px solid #ccc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        style: {\n          width: '100%',\n          padding: '10px',\n          marginBottom: '10px',\n          borderRadius: '5px',\n          border: '1px solid #ccc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red',\n          fontSize: '14px'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        style: {\n          width: '100%',\n          padding: '10px',\n          backgroundColor: '#6c63ff',\n          color: '#fff',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer',\n          fontSize: '16px'\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '20px',\n          fontSize: '14px'\n        },\n        children: [\"Not a member?\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#6c63ff',\n            cursor: 'pointer'\n          },\n          onClick: () => navigate('/signup'),\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginPage, \"+uI/IyVckqS9r8YiG7GOOkL3Ilo=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","LoginPage","setIsLoggedIn","setUserId","_s","navigate","email","setEmail","password","setPassword","error","setError","pastelColors","randomColor","Math","floor","random","length","document","body","style","backgroundColor","handleLogin","trim","response","fetch","method","headers","JSON","stringify","data","json","ok","localStorage","setItem","token","user_id","message","err","console","height","display","justifyContent","alignItems","children","borderRadius","boxShadow","padding","width","textAlign","marginTop","marginRight","fontSize","color","cursor","onClick","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","type","placeholder","value","onChange","e","target","border","_c","$RefreshReg$"],"sources":["C:/Users/Kaan/Desktop/code/vscode/newakakce/frontend/src/LoginPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst LoginPage = ({ setIsLoggedIn, setUserId }) => {\r\n    const navigate = useNavigate();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        const pastelColors = [\r\n            '#DCD6F7',\r\n            '#FCE38A',\r\n            '#EAFFD0',\r\n            '#95E1D3',\r\n            '#D3E0DC',\r\n            '#E9EDC9'\r\n        ];\r\n\r\n        const randomColor = pastelColors[Math.floor(Math.random() * pastelColors.length)];\r\n\r\n        document.body.style.backgroundColor = randomColor;\r\n\r\n        return () => {\r\n            document.body.style.backgroundColor = '';\r\n        };\r\n    }, []);\r\n\r\n    const handleLogin = async () => {\r\n        if (!email.trim() || !password.trim()) {\r\n            setError('Şifre ve kullanıcı adı boş bırakılamaz.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:5000/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ email, password }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                setError('');\r\n                setIsLoggedIn(true);\r\n                localStorage.setItem('token', data.token); // Store JWT token\r\n                localStorage.setItem('user', JSON.stringify({ email, user_id: data.user_id })); // Store user info\r\n                setUserId(data.user_id); // Set user ID\r\n                navigate('/');\r\n            } else {\r\n                setError(data.message || 'Kullanıcı adı veya şifre yanlış.');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error during login:', err); // Hata hakkında daha fazla bilgi almak için\r\n            setError('Sunucuyla bağlantı kurulamadı.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                height: '100vh',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            <div\r\n                style={{\r\n                    backgroundColor: '#fff',\r\n                    borderRadius: '20px',\r\n                    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n                    padding: '30px',\r\n                    width: '350px',\r\n                    textAlign: 'center',\r\n                }}\r\n            >\r\n                <p style={{ marginTop: '5px', marginRight: '300px', fontSize: '14px' }}>\r\n                    <span\r\n                        style={{ color: '#6c63ff', cursor: 'pointer' }}\r\n                        onClick={() => navigate('/')}\r\n                    >\r\n                        &#11164; Geri\r\n                    </span>\r\n                </p>\r\n\r\n                <h2 style={{ marginBottom: '20px', color: '#4a4a4a' }}>Login</h2>\r\n                <input\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    style={{\r\n                        width: '100%',\r\n                        padding: '10px',\r\n                        marginBottom: '15px',\r\n                        borderRadius: '5px',\r\n                        border: '1px solid #ccc',\r\n                    }}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    style={{\r\n                        width: '100%',\r\n                        padding: '10px',\r\n                        marginBottom: '10px',\r\n                        borderRadius: '5px',\r\n                        border: '1px solid #ccc',\r\n                    }}\r\n                />\r\n                {error && <p style={{ color: 'red', fontSize: '14px' }}>{error}</p>}\r\n                <button\r\n                    onClick={handleLogin}\r\n                    style={{\r\n                        width: '100%',\r\n                        padding: '10px',\r\n                        backgroundColor: '#6c63ff',\r\n                        color: '#fff',\r\n                        border: 'none',\r\n                        borderRadius: '5px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '16px',\r\n                    }}\r\n                >\r\n                    Login\r\n                </button>\r\n                <p style={{ marginTop: '20px', fontSize: '14px' }}>\r\n                    Not a member?{' '}\r\n                    <span\r\n                        style={{ color: '#6c63ff', cursor: 'pointer' }}\r\n                        onClick={() => navigate('/signup')}\r\n                    >\r\n                        Sign up\r\n                    </span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}